<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H5缓存</title>
</head>

<body>

    普通写的代码，刷新之后重新执行js
    没有实现数据的持久化（刷新之后数据依旧存在）
    1.将数据存在数据库中，当页面刷新后请求，通过ajkx请求过来
    2.将数据放在我们h5缓存中



    浏览器机制：h5缓存
    作用：
    1.保存数据，实现页面数据的持久化
    2.页面之间传递数据
    实战场景：登录状态的保存，购物车
    h5缓存的分类：
    localStorage
    sessionStorage
    cookies
    <script src="./cookies.js"></script>
    <script>
        // docCookies.setItem('name', 'alex')
        // 可以设置过期时间
        // 15分钟后失效
        let time = 900000
        let newTime = +new Date()
        let endTime = +new Date(newTime + time)

        document.cookie = `age=18;expires=${endTime};`

        // localStorage.setItem('name', 'alex')//添加缓存
        // localStorage.setItem('age', '18')
        // let a = localStorage.getItem('age')
        // console.log(a);
        // localStorage.removeItem('name')//删除缓存
        // localStorage.clear()//删除全部


        // 如果你存储的数据是一个对象或者是数据
        // 先把数据转成JSON
        // let arr = [1, 2, 3, 4]
        // localStorage.setItem('arr', JSON.stringify(arr))
        // 获取的时候  需要把它转换回来
        // let a = JSON.parse(localStorage.getItem('arr'))
        // console.log(a);
        // 原因：缓存中保存的数据永远是字符串，JSON格式就是一个字符串
        // 如果你传递的不是一个字符串，自动帮你转成字符串
        // [1,2,3,4] =。 1,2,3,4
        // 注意：如果是对象或者数组  一定要转JSON

        // sessionStorage.setItem('name','jack')
        // sessionStorage中也有setItem()  getItem()
        // 两者区别在于：sessionStorage 关闭浏览器后，缓存自动销毁
                    // localStorage  永远存在，直到把浏览器删除
    </script>
</body>

</html>