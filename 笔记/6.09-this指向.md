# 一.this指向问题

    所有编程的语言中，都会出现this
    this也是所有编程语言中比较麻烦

## 为什么？
    就近原则。this 上下文 （作用域）
## 作用？
    方便程序在多种环境下执行。

## this指向的结论

- 1.普通函数在script中调用 this指向window

- 2.当一个函数在对象内部时，该对象调用该函数，该this指向该对象

- 3.当一个函数在对象内部，函数赋值给全局变量w,再调用函数，该this指向就指向window

- 4.当一个函数在对象方法中定义，该函数被视为普通函数，回到结论1 this就会指向windo

# **总结：**

- 谁调用这个函数，this就会指向谁

- 定时器中的函数中的this的指向永远都是window的


# 二.this指向的改变

- 备注：可以定义 that 来保存this指向（不推荐）

## call(你要改变的目标，参数)    改变this指向

```
obj.fn.call(window, '真不错')
        obj.fn.call(obj2, '真不错')
```

## apply()

```
obj.fn.apply(obj2, ['真不错', 100])
```


## bind() 是会返回一个函数，执行这个函数才能改变指向

```
obj.fn.bind(window, '真不错', 100)()
```

## **经典面试题**

    call(),apply(),bind()不同


# 三.箭头函数
- 是什么？
    本质上也是一个函数，是普通函数的升级版的写法(更加简洁)

## 1.语法结构
- 写法1
    let 函数名 = (参数) => {函数体}
- 写法2：当参数只有一个的时候，括号可省
        当没有参数或者多个参数的时候，括号不能省略
    let 函数名 = 参数 => {函数体}
    let 函数名 = （参数1，参数2） => {函数体}

- 写法3：函数带返回值
    return 和 {} 都可以省略
    let 函数名 = 参数 => 函数体


## 2.学会判断箭头函数的this指向

    - 箭头函数的定义中，是否存在于某个作用域中，如果在，那么this就指向该作用域的调用者；如果不在，this指向全局




# **总结**

- 在js中判断this的方法论：
    1.看this，看这个this是否在箭头函数中
    2.如果不是箭头函数，遵循：谁调用指向谁
    3.如果是箭头函数，遵循：看是否在作用域，看哪个对象调用该作用域


# token

// 请求后，返回一个token值，其他页面中都会使用到也会用到的内容
// 所以将这个 token 放到缓存中
// token 称之为 身份令牌
// 后面所有的接口都会用到token